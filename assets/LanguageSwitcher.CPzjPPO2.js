import{T as _}from"./runtime-dom.esm-bundler.swPJB9Bd.js";import{_ as L}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as l,a as r,t as v,n as k,b as C,w as D,d as B,o as M,e as E,r as y,l as p,f as i,F as O,h as S,j}from"./runtime-core.esm-bundler.mKm2q0Bp.js";const z=B({__name:"LanguageSwitcher",props:{locales:{},currentLocale:{},currentPath:{},defaultLocale:{},prefixDefaultLocale:{type:Boolean,default:!1}},setup(m,{expose:o}){o();const t=m,e=y(!1),c=y(null),d=p(()=>t.locales.find(a=>a.code===t.currentLocale)?.name||t.currentLocale),n=p(()=>`Select language, current: ${d.value}`),b=p(()=>"Available languages");function w(){e.value=!e.value}function u(){e.value=!1}function x(s){let a=t.currentPath;return a.startsWith("/")||(a="/"+a),s===t.defaultLocale&&!t.prefixDefaultLocale?a==="/"?"/":a:a==="/"?`/${s}`:`/${s}${a}`}function f(s){c.value&&!c.value.contains(s.target)&&u()}function g(s){s.key==="Escape"&&u()}M(()=>{document.addEventListener("click",f),document.addEventListener("keydown",g)}),E(()=>{document.removeEventListener("click",f),document.removeEventListener("keydown",g)});const h={props:t,isOpen:e,dropdownRef:c,currentLocaleName:d,ariaLabel:n,listLabel:b,toggleDropdown:w,closeDropdown:u,getLocalizedUrl:x,handleClickOutside:f,handleKeyDown:g};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),N={class:"relative",ref:"dropdownRef"},P=["aria-expanded","aria-label"],U=["aria-label"],V={class:"py-1"},A=["href","aria-selected"],F={key:0,class:"w-4 h-4 flex items-center justify-center"},R={key:1,class:"w-4 h-4"};function T(m,o,t,e,c,d){return i(),l("div",N,[r("button",{onClick:e.toggleDropdown,class:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-expanded":e.isOpen,"aria-haspopup":"listbox","aria-label":e.ariaLabel},[o[1]||(o[1]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1)),r("span",null,v(e.currentLocaleName),1),(i(),l("svg",{class:k(["w-3 h-3 transition-transform",{"rotate-180":e.isOpen}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...o[0]||(o[0]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,P),C(_,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:D(()=>[e.isOpen?(i(),l("div",{key:0,class:"absolute right-0 mt-2 w-40 origin-top-right rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-700 focus:outline-none z-50",role:"listbox","aria-label":e.listLabel},[r("div",V,[(i(!0),l(O,null,S(t.locales,n=>(i(),l("a",{key:n.code,href:e.getLocalizedUrl(n.code),class:k(["flex items-center gap-2 px-4 py-2 text-sm transition-colors",[n.code===t.currentLocale?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]]),role:"option","aria-selected":n.code===t.currentLocale,onClick:e.closeDropdown},[n.code===t.currentLocale?(i(),l("span",F,[...o[2]||(o[2]=[r("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])])):(i(),l("span",R)),r("span",null,v(n.name),1)],10,A))),128))])],8,U)):j("",!0)]),_:1})],512)}const G=L(z,[["render",T]]);export{G as default};
