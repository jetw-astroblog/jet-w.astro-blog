import{T as C,w as H}from"./runtime-dom.esm-bundler.swPJB9Bd.js";/* empty css                        */import{_ as S}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as d,a as e,n as b,b as B,w as I,d as A,o as j,e as E,r as c,f as u,g as F,t as f,F as N,h as V,i as q,j as z}from"./runtime-core.esm-bundler.mKm2q0Bp.js";const L=A({__name:"FloatingToc",props:{tocTitle:{default:"Table of Contents"},progressTitle:{default:"Reading Progress"}},setup(x,{expose:a}){a();const n=x,t=c(!1),h=c([]),p=c(""),r=c(0);function w(o){switch(o){case 2:return"pl-0";case 3:return"pl-3";case 4:return"pl-6";default:return"pl-0"}}function T(o){const s=document.getElementById(o);if(s){const l=s.offsetTop-100;window.scrollTo({top:l,behavior:"smooth"})}}function k(){const o=document.querySelectorAll("article h2[id], article h3[id], article h4[id]");h.value=Array.from(o).filter(s=>s.id).map(s=>({id:s.id,text:s.textContent||"",level:parseInt(s.tagName.charAt(1))}))}function g(){const o=document.querySelectorAll("article h2[id], article h3[id], article h4[id]");let s="";o.forEach(l=>{if(!l.id)return;l.getBoundingClientRect().top<=120&&(s=l.id)}),p.value=s}function m(){const o=document.querySelector("article");if(!o)return;const s=o.offsetTop,l=o.offsetHeight,y=window.pageYOffset,M=window.innerHeight;r.value=Math.min(Math.max((y-s+M/2)/l,0),1)}let i=!1;function v(){i||(requestAnimationFrame(()=>{g(),m(),i=!1}),i=!0)}j(()=>{k(),g(),m(),window.addEventListener("scroll",v)}),E(()=>{window.removeEventListener("scroll",v)});const _={props:n,showToc:t,headings:h,activeId:p,progress:r,getIndentClass:w,scrollToHeading:T,extractHeadings:k,updateActiveHeading:g,updateProgress:m,get ticking(){return i},set ticking(o){i=o},handleScroll:v};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),P={class:"fixed top-24 right-4 z-40"},O=["aria-label"],R={key:0,class:"absolute top-0 right-14 w-72 max-h-[70vh] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden"},D={class:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"},U={class:"text-sm font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2"},Y={class:"p-3 overflow-y-auto max-h-[calc(70vh-50px)]"},G={class:"space-y-1"},J=["href","onClick"],K={class:"line-clamp-2"},Q={class:"px-4 py-2 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50"},W={class:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400 mb-1"},X={class:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5"};function Z(x,a,n,t,h,p){return u(),d("div",P,[e("div",{class:"relative",onMouseenter:a[0]||(a[0]=r=>t.showToc=!0),onMouseleave:a[1]||(a[1]=r=>t.showToc=!1)},[e("button",{class:b(["p-3 bg-white dark:bg-slate-800 rounded-full shadow-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",{"bg-primary-50 dark:bg-primary-900/30":t.showToc}]),"aria-label":n.tocTitle},[...a[2]||(a[2]=[e("svg",{class:"w-5 h-5 text-slate-600 dark:text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],10,O),B(C,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-x-2","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 translate-x-2"},{default:I(()=>[t.showToc&&t.headings.length>0?(u(),d("div",R,[e("div",D,[e("h3",U,[a[3]||(a[3]=e("svg",{class:"w-4 h-4 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),F(" "+f(n.tocTitle),1)])]),e("nav",Y,[e("ul",G,[(u(!0),d(N,null,V(t.headings,r=>(u(),d("li",{key:r.id,class:b(t.getIndentClass(r.level))},[e("a",{href:`#${r.id}`,onClick:H(w=>t.scrollToHeading(r.id),["prevent"]),class:b(["block px-3 py-2 text-sm rounded-lg transition-colors",[t.activeId===r.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700/50 hover:text-slate-900 dark:hover:text-slate-200"]])},[e("span",K,f(r.text),1)],10,J)],2))),128))])]),e("div",Q,[e("div",W,[e("span",null,f(n.progressTitle),1),e("span",null,f(Math.round(t.progress*100))+"%",1)]),e("div",X,[e("div",{class:"bg-primary-500 h-1.5 rounded-full transition-all duration-300",style:q({width:`${t.progress*100}%`})},null,4)])])])):z("",!0)]),_:1})],32)])}const se=S(L,[["render",Z],["__scopeId","data-v-e727508f"]]);export{se as default};
