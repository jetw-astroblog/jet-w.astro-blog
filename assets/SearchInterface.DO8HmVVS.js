import{v as H,a as M}from"./runtime-dom.esm-bundler.swPJB9Bd.js";/* empty css                        */import{_ as q}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c as n,a as t,k as y,j as b,t as a,F as v,h as _,n as L,d as F,o as G,r as u,l as w,f as i,i as K}from"./runtime-core.esm-bundler.mKm2q0Bp.js";const S=10,O=F({__name:"SearchInterface",props:{placeholder:{},noResults:{},tags:{},categories:{},sortLabel:{},relevance:{},publishTime:{},titleLabel:{},all:{},searching:{},foundResults:{},containing:{},enterKeywordToSearch:{},searchTime:{},readMinutes:{},relevanceLabel:{},noResultsTitle:{},noResultsDesc:{},clearSearch:{},previousPage:{},nextPage:{},dateLocale:{}},setup(R,{expose:l}){l();const T=R,e=u(""),x=u(""),p=u(""),s=u("relevance"),h=u([]),C=u(!1),j=u(0),f=u(1),k=[{title:"æ¬¢è¿Žæ¥åˆ°AstroæŠ€æœ¯åšå®¢",description:"è¿™æ˜¯ä½¿ç”¨Astroæž„å»ºçš„çŽ°ä»£åŒ–æŠ€æœ¯åšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä»‹ç»åšå®¢çš„ç‰¹æ€§å’Œä½¿ç”¨æ–¹æ³•ã€‚",url:"/posts/welcome-to-astro",content:"Astro Vue TypeScript Tailwind CSS åšå®¢ æŠ€æœ¯åˆ†äº« çŽ°ä»£åŒ– é™æ€ç«™ç‚¹ç”Ÿæˆ",tags:["Astro","Blog","TypeScript","Tailwind CSS"],categories:["æŠ€æœ¯åˆ†äº«"],date:"2025-01-08",readingTime:5},{title:"Astro vs Next.jsï¼šé™æ€ç«™ç‚¹ç”Ÿæˆå™¨çš„å¯¹æ¯”",description:"æ·±å…¥æ¯”è¾ƒAstroå’ŒNext.jsåœ¨æ€§èƒ½ã€å¼€å‘ä½“éªŒå’Œç”Ÿæ€ç³»ç»Ÿæ–¹é¢çš„å·®å¼‚ã€‚",url:"/posts/astro-vs-nextjs",content:"Astro Next.js å¯¹æ¯” æ€§èƒ½ SSG é™æ€ç«™ç‚¹ç”Ÿæˆ å¼€å‘ä½“éªŒ",tags:["Astro","Next.js","SSG"],categories:["æŠ€æœ¯æ¯”è¾ƒ"],date:"2025-01-07",readingTime:8},{title:"Tailwind CSSæœ€ä½³å®žè·µæŒ‡å—",description:"æ€»ç»“ä½¿ç”¨Tailwind CSSå¼€å‘æ—¶çš„æœ€ä½³å®žè·µå’Œå¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆã€‚",url:"/posts/tailwind-best-practices",content:"Tailwind CSS æœ€ä½³å®žè·µ å“åº”å¼è®¾è®¡ å·¥å…·ç±» ä¼˜åŒ–",tags:["Tailwind CSS","CSS","æœ€ä½³å®žè·µ"],categories:["å‰ç«¯å¼€å‘"],date:"2025-01-06",readingTime:6}],V=w(()=>{const d=new Set;return k.forEach(o=>{o.tags.forEach(r=>d.add(r))}),Array.from(d).sort()}),B=w(()=>{const d=new Set;return k.forEach(o=>{o.categories.forEach(r=>d.add(r))}),Array.from(d).sort()}),D=w(()=>Math.ceil(h.value.length/S)),N=w(()=>{const d=(f.value-1)*S,o=d+S;return h.value.slice(d,o)}),P=()=>{const d=performance.now();C.value=!0,setTimeout(()=>{let o=[...k];if(e.value){const r=e.value.toLowerCase();o=o.map(c=>{let g=0;return c.title.toLowerCase().includes(r)&&(g+=10),c.description.toLowerCase().includes(r)&&(g+=5),c.content.toLowerCase().includes(r)&&(g+=3),c.tags.some(m=>m.toLowerCase().includes(r))&&(g+=7),c.categories.some(m=>m.toLowerCase().includes(r))&&(g+=6),{...c,score:Math.min(g/10,1)}}).filter(c=>c.score>0)}else o=o.map(r=>({...r,score:1}));switch(x.value&&(o=o.filter(r=>r.tags.includes(x.value))),p.value&&(o=o.filter(r=>r.categories.includes(p.value))),s.value){case"date":o.sort((r,c)=>new Date(c.date).getTime()-new Date(r.date).getTime());break;case"title":o.sort((r,c)=>r.title.localeCompare(c.title));break;case"relevance":default:o.sort((r,c)=>c.score-r.score);break}h.value=o,C.value=!1,j.value=Math.round(performance.now()-d),f.value=1},200)},Q=()=>{P()},E=()=>{e.value="",x.value="",p.value="",h.value=[],f.value=1},I=d=>{if(!e.value)return d;const o=new RegExp(`(${e.value})`,"gi");return d.replace(o,'<mark class="bg-yellow-200 dark:bg-yellow-800 px-1 rounded">$1</mark>')},U=d=>new Intl.DateTimeFormat(T.dateLocale||"zh-CN",{year:"numeric",month:"long",day:"numeric"}).format(new Date(d)),z=()=>{const o=Math.floor(2.5);let r=Math.max(1,f.value-o),c=Math.min(D.value,r+5-1);c-r<4&&(r=Math.max(1,c-5+1));const g=[];for(let m=r;m<=c;m++)g.push(m);return g};G(()=>{const o=new URLSearchParams(window.location.search).get("q");o&&(e.value=o,P())});const A={props:T,searchQuery:e,selectedTag:x,selectedCategory:p,sortBy:s,searchResults:h,isSearching:C,searchTimeValue:j,currentPage:f,resultsPerPage:S,mockSearchData:k,allTags:V,allCategories:B,totalPages:D,paginatedResults:N,performSearch:P,handleSearch:Q,clearSearch:E,highlightText:I,formatDate:U,getPageNumbers:z};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),J={class:"space-y-8"},W={class:"relative"},X={class:"relative"},Y=["placeholder"],Z={key:0,class:"absolute inset-y-0 right-0 pr-4 flex items-center"},$={class:"flex flex-wrap gap-4"},ee={class:"flex items-center space-x-2"},te={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},se={value:""},ae=["value"],re={class:"flex items-center space-x-2"},oe={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},le={value:""},ne=["value"],ie={class:"flex items-center space-x-2"},ce={class:"text-sm font-medium text-slate-700 dark:text-slate-300"},de={value:"relevance"},he={value:"date"},ge={value:"title"},ue={class:"flex items-center justify-between text-sm text-slate-600 dark:text-slate-400"},me={key:0},xe={key:1},pe={key:2},fe={key:0},be={key:0,class:"space-y-6"},ve=["href"],_e={class:"flex flex-col lg:flex-row lg:items-center gap-4"},ke={class:"flex-1"},ye=["innerHTML"],we=["innerHTML"],Se={class:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400"},Te=["datetime"],Ce={key:0},Pe={class:"flex flex-wrap gap-1"},Me={class:"lg:w-20 text-center"},Le={class:"text-xs text-slate-500 dark:text-slate-400 mb-1"},Re={class:"flex items-center justify-center"},je={class:"w-12 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden"},De={key:1,class:"text-center py-16"},Ae={class:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2"},Ve={class:"text-slate-600 dark:text-slate-400 mb-6"},Be={key:2,class:"flex justify-center"},Ne={class:"flex items-center space-x-2"},Qe=["disabled"],Ee={class:"flex items-center space-x-1"},Ie=["onClick"],Ue=["disabled"];function ze(R,l,T,e,x,p){return i(),n("div",J,[t("div",W,[t("div",X,[y(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>e.searchQuery=s),onInput:e.handleSearch,type:"text",placeholder:e.props.placeholder||"æœç´¢æ–‡ç« æ ‡é¢˜ã€å†…å®¹ã€æ ‡ç­¾...",class:"w-full pl-12 pr-4 py-4 text-lg bg-white dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors shadow-sm",autofocus:""},null,40,Y),[[H,e.searchQuery]]),l[7]||(l[7]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-6 h-6 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),e.searchQuery?(i(),n("div",Z,[t("button",{onClick:e.clearSearch,class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors"},[...l[6]||(l[6]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):b("",!0)])]),t("div",$,[t("div",ee,[t("label",te,a(e.props.tags||"æ ‡ç­¾")+":",1),y(t("select",{"onUpdate:modelValue":l[1]||(l[1]=s=>e.selectedTag=s),onChange:e.handleSearch,class:"text-sm px-3 py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"},[t("option",se,a(e.props.all||"å…¨éƒ¨"),1),(i(!0),n(v,null,_(e.allTags,s=>(i(),n("option",{key:s,value:s},a(s),9,ae))),128))],544),[[M,e.selectedTag]])]),t("div",re,[t("label",oe,a(e.props.categories||"åˆ†ç±»")+":",1),y(t("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>e.selectedCategory=s),onChange:e.handleSearch,class:"text-sm px-3 py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"},[t("option",le,a(e.props.all||"å…¨éƒ¨"),1),(i(!0),n(v,null,_(e.allCategories,s=>(i(),n("option",{key:s,value:s},a(s),9,ne))),128))],544),[[M,e.selectedCategory]])]),t("div",ie,[t("label",ce,a(e.props.sortLabel||"æŽ’åº")+":",1),y(t("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>e.sortBy=s),onChange:e.handleSearch,class:"text-sm px-3 py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"},[t("option",de,a(e.props.relevance||"ç›¸å…³æ€§"),1),t("option",he,a(e.props.publishTime||"å‘å¸ƒæ—¶é—´"),1),t("option",ge,a(e.props.titleLabel||"æ ‡é¢˜"),1)],544),[[M,e.sortBy]])])]),t("div",ue,[t("div",null,[e.isSearching?(i(),n("span",me,a(e.props.searching||"æ­£åœ¨æœç´¢..."),1)):e.searchQuery?(i(),n("span",xe,a(e.props.foundResults||"æ‰¾åˆ°")+" "+a(e.searchResults.length)+" "+a(e.props.containing||"ä¸ªç»“æžœåŒ…å«")+' "'+a(e.searchQuery)+'" ',1)):(i(),n("span",pe,a(e.props.enterKeywordToSearch||"è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢"),1))]),e.searchTimeValue?(i(),n("div",fe,a(e.props.searchTime||"æœç´¢ç”¨æ—¶")+": "+a(e.searchTimeValue)+"ms ",1)):b("",!0)]),e.searchResults.length>0?(i(),n("div",be,[(i(!0),n(v,null,_(e.paginatedResults,s=>(i(),n("article",{key:s.url,class:"card hover:shadow-lg transition-shadow duration-200"},[t("a",{href:s.url,class:"block group"},[t("div",_e,[t("div",ke,[t("h3",{class:"text-xl font-semibold text-slate-900 dark:text-slate-100 group-hover:text-primary-500 transition-colors mb-2",innerHTML:e.highlightText(s.title)},null,8,ye),t("p",{class:"text-slate-600 dark:text-slate-400 mb-3 line-clamp-2",innerHTML:e.highlightText(s.description)},null,8,we),t("div",Se,[t("time",{datetime:s.date},a(e.formatDate(s.date)),9,Te),s.readingTime?(i(),n("span",Ce,a(s.readingTime)+" "+a(e.props.readMinutes||"åˆ†é’Ÿé˜…è¯»"),1)):b("",!0),t("div",Pe,[(i(!0),n(v,null,_(s.tags.slice(0,3),h=>(i(),n("span",{key:h,class:"px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full text-xs"},a(h),1))),128))])])]),t("div",Me,[t("div",Le,a(e.props.relevanceLabel||"ç›¸å…³åº¦"),1),t("div",Re,[t("div",je,[t("div",{class:"h-full bg-primary-500 rounded-full transition-all duration-300",style:K({width:`${Math.round(s.score*100)}%`})},null,4)])])])])],8,ve)]))),128))])):e.searchQuery&&!e.isSearching?(i(),n("div",De,[l[8]||(l[8]=t("div",{class:"text-6xl mb-4"},"ðŸ”",-1)),t("h3",Ae,a(e.props.noResultsTitle||"æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç»“æžœ"),1),t("p",Ve,a(e.props.noResultsDesc||"å°è¯•ä½¿ç”¨ä¸åŒçš„å…³é”®è¯æˆ–è°ƒæ•´ç­›é€‰æ¡ä»¶"),1),t("button",{onClick:e.clearSearch,class:"btn-secondary"},a(e.props.clearSearch||"æ¸…é™¤æœç´¢"),1)])):b("",!0),e.totalPages>1?(i(),n("div",Be,[t("nav",Ne,[t("button",{onClick:l[4]||(l[4]=s=>e.currentPage=Math.max(1,e.currentPage-1)),disabled:e.currentPage===1,class:L(["px-3 py-2 text-sm font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",e.currentPage===1?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-slate-200 dark:border-slate-700":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"])},a(e.props.previousPage||"ä¸Šä¸€é¡µ"),11,Qe),t("div",Ee,[(i(!0),n(v,null,_(e.getPageNumbers(),s=>(i(),n("button",{key:s,onClick:h=>e.currentPage=s,class:L(["px-3 py-2 text-sm font-medium rounded-lg transition-colors",s===e.currentPage?"bg-primary-500 text-white":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"])},a(s),11,Ie))),128))]),t("button",{onClick:l[5]||(l[5]=s=>e.currentPage=Math.min(e.totalPages,e.currentPage+1)),disabled:e.currentPage===e.totalPages,class:L(["px-3 py-2 text-sm font-medium rounded-lg border transition-colors disabled:opacity-50 disabled:cursor-not-allowed",e.currentPage===e.totalPages?"bg-slate-100 dark:bg-slate-800 text-slate-400 border-slate-200 dark:border-slate-700":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"])},a(e.props.nextPage||"ä¸‹ä¸€é¡µ"),11,Ue)])])):b("",!0)])}const Ke=q(O,[["render",ze],["__scopeId","data-v-aa019d91"]]);export{Ke as default};
